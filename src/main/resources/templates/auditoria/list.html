<!DOCTYPE html>
<html layout:decorate="~{layout}" th:with="titulo='Auditoria de Motos'" xmlns:layout="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<section layout:fragment="conteudo">
    <h1>Auditoria de Alterações - Motos</h1>
    <p>Histórico de todas as inserções, atualizações e exclusões realizadas na tabela de motos.</p>

    <div class="table-responsive">
        <table class="table table-striped table-hover table-sm">
            <thead class="table-dark">
            <tr>
                <th>Data/Hora</th>
                <th>Usuário</th>
                <th>Operação</th>
                <th>Valores Antigos</th>
                <th>Valores Novos</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="log : ${auditorias}">
                <td th:text="${#temporals.format(log.dataHora, 'dd/MM/yyyy HH:mm:ss')}"></td>
                <td th:text="${log.userName}"></td>
                <td>
                    <span class="badge"
                          th:classappend="${log.operacao == 'INSERT' ? 'bg-success' : (log.operacao == 'UPDATE' ? 'bg-warning text-dark' : 'bg-danger')}"
                          th:text="${log.operacao}"></span>
                </td>
                <td style="word-break: break-all;"><small th:text="${log.oldValues}"></small></td>
                <td style="word-break: break-all;"><small th:text="${log.newValues}"></small></td>
            </tr>
            </tbody>
        </table>
    </div>
</section>
</html>